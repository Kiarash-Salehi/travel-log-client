(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){e.exports=n(33)},27:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(19),c=n.n(l),o=(n(27),n(9)),i=n(5),u=n.n(i),s=n(7),m=n(6),p=n(12),d="https://travel-log-mern-stack.herokuapp.com/";function E(){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e){var t=e.color,n=e.viewport,a=e.clicked;return r.a.createElement("svg",{style:{width:6*n.zoom+"px",height:6*n.zoom+"px",maxWidth:"44px",maxHeight:"44px",transform:"translate(-50%, -100%)"},viewBox:"0 0 24 24",width:"48",height:"48",stroke:t,strokeWidth:"1.5",fill:"none",strokeLinecap:"round",onClick:a},r.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.a.createElement("circle",{cx:"12",cy:"10",r:"3"}))},y=n(21);n(32);var v=function(e){var t=e.location,n=e.onClose,l=Object(a.useState)(!1),c=Object(m.a)(l,2),o=c[0],i=c[1],p=Object(a.useState)(""),d=Object(m.a)(p,2),E=d[0],f=d[1],b=Object(y.a)(),h=b.register,v=b.handleSubmit,w=function(){var e=Object(s.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),a.latitude=t.latitude,a.longitude=t.longitude,e.next=6,g(a);case 6:n(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),f(e.t0.message),i(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"LogEntryForm"},E&&r.a.createElement("h3",{className:"LogEntryForm__error"},E),r.a.createElement("h3",null,"Add your log entry here"),r.a.createElement("form",{onSubmit:v(w),className:"LogEntryForm__form"},r.a.createElement("label",null,"Title: ",r.a.createElement("input",{autoComplete:"off",className:"LogEntryForm__input",name:"title",type:"text",ref:h,required:!0})),r.a.createElement("label",null,"Comments: ",r.a.createElement("textarea",{className:"LogEntryForm__input",name:"comments",rows:3,ref:h})),r.a.createElement("label",null,"Description: ",r.a.createElement("textarea",{className:"LogEntryForm__input",name:"description",rows:3,ref:h})),r.a.createElement("label",null,"Image ",r.a.createElement("input",{autoComplete:"off",className:"LogEntryForm__input",name:"image",type:"text",ref:h})),r.a.createElement("label",null,"Visit Date: ",r.a.createElement("input",{className:"LogEntryForm__input",name:"visitDate",type:"date",required:!0,ref:h})),r.a.createElement("div",null,r.a.createElement("button",{className:"LogEntryForm__button",type:"submit",disabled:o},o?"Loading...":"Create Log Entry"))))},w=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)({}),i=Object(m.a)(c,2),d=i[0],f=i[1],g=Object(a.useState)(null),b=Object(m.a)(g,2),y=b[0],w=b[1],j=Object(a.useState)({width:"100vw",height:"100vh",latitude:37.6,longitude:-95.665,zoom:3}),x=Object(m.a)(j,2),O=x[0],k=x[1],_=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){_()}),[]);return r.a.createElement(p.c,Object.assign({},O,{mapStyle:"mapbox://styles/ksdeveloper82/ckdujcveq185w19prbl4e16tu",mapboxApiAccessToken:"pk.eyJ1Ijoia3NkZXZlbG9wZXI4MiIsImEiOiJja2R1aXI4a28wN3huMzJsN3dqa3ByZm54In0.TACCCp5OlmRdElEdlHnEVQ",onViewportChange:k,onDblClick:function(e){var t=Object(m.a)(e.lngLat,2),n=t[0],a=t[1];f({}),w({latitude:a,longitude:n})},doubleClickZoom:!1}),n.map((function(e){return r.a.createElement(r.a.Fragment,{key:e._id},r.a.createElement(p.a,{latitude:e.latitude,longitude:e.longitude},r.a.createElement(h,{color:"yellow",viewport:O,clicked:function(){f(Object(o.a)({},e._id,!0)),w(null)}})),d[e._id]&&r.a.createElement(p.b,{latitude:e.latitude,longitude:e.longitude,closeButton:!0,closeOnClick:!1,dynamicPosition:!0,onClose:function(){f({})},anchor:"top",style:{zIndex:"1000"}},r.a.createElement("div",{style:{width:"40vw"}},r.a.createElement("h3",null,e.title),e.description&&r.a.createElement("p",null,e.description),r.a.createElement("p",null,e.comments),r.a.createElement("small",null,"Visited at: ",new Date(e.visitDate).toLocaleDateString()),e.image&&r.a.createElement("img",{src:e.image,alt:e.tilte,style:{width:"100%",maxHeight:"200px",objectFit:"contain",margin:".2rem auto",textAlign:"center"}}))),y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{latitude:y.latitude,longitude:y.longitude},r.a.createElement(h,{color:"red",viewport:O})),r.a.createElement(p.b,{latitude:y.latitude,longitude:y.longitude,closeButton:!0,closeOnClick:!1,dynamicPosition:!0,onClose:function(){w(null)},anchor:"top"},r.a.createElement("div",{style:{width:"40vw"}},r.a.createElement(v,{onClose:function(){w(null),_()},location:y})))))})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.04dac7db.chunk.js.map